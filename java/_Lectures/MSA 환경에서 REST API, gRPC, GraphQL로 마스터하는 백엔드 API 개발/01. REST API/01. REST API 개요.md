# REST API 개요

## 1. REST API 개념 소개

 - __API(Application Programming Interface)__
    - 소프트웨어 간의 상호작용을 가능하게 하는 규칙 및 도구 모음
    - 프로그램이나 애플리케이션을 구축할 때, 다른 시스템과의 연결 및 통신을 용이하게 하는 중개자 역할
 - __REST API(Representational State Transfer API)__
    - 웹 기반 응용 프로그램 간 데이터 교환을 위한 표준 인터페이스
    - REST 제약조건을 잘 준수함을 RESTful 하다고 표현
 - __REST API의 탄생__
    - REST API는 2000년 Roy Fielding의 박사학위 논문에서 처음 소개
    - HTTP 프로토콜의 주요 설계자 중 한 명으로, 웹의 기본 원칙을 설명하고자 함
    - 클라이언트-서버 구조, 계층화 된 시스템, 무상태성, 코드 온 디맨드, 캐시 가능성, 균일한 인터페이스
 - __RESTful 아키텍처__
    - 자원과 행위의 결합
        - GET /resource = Resource(/resource) + Verb(GET)
    - HTTP 메서드의 활용
        - GET, POST, PUT, DELETE, PATCH 등
    - Stateless
        - 서버는 이전 요청과 관련된 정보를 기억하지 않음
    - URI 설계 원칙
        - 간결, 의미, 계층형 구조
    - 캐시 가능성
        - 첫 요청에 대해서 캐싱하고, 캐시 된 데이터를 재사용
        - 서버 부하 감소, 응답 시간 단축

<br/>

### 정리

 - 간결성, 유연성
    - HTTP 프로토콜을 기반하여 다양한 종류의 클라이언트와의 호환성을 제공
 - 확장성과 분산 시스템에 적합
    - 상태를 저장하지 않는 Stateless 구조
    - 시스템의 확장성을 향상
    - 여러 서버에 요청을 분산 가능
 - 캐시 지원
    - 서버의 부하를 줄이고
    - 응답 속도를 빠르게
 - 플랫폼 및 언어 독립성
    - JSON, XML 등의 표준 데이터 포맷을 사용하여 데이터를 교환
    - 다양한 언어와 플랫폼에서 쉽게 통합 가능

<br/>

## 2. RESTful 아키텍처의 특징

### RESTful의 정의

REST 아키텍처 원칙을 따르는 웹 서비스나 API를 나타내기 위해 사용한다. (REST + ful)

<br/>

### RESTful의 6가지 제약 조건

 - __클라이언트-서버 구조__
    - 관심사의 분리
    - 클라이언트는 사용자 인터페이스에, 서버는 데이터 저장 및 처리에 집중
 - __무상태성(Stateless)__
    - 각 요청이 독립적이고, 이전 상태를 기반으로 하지 않음
    - 시스템의 복잡성 감소, 서버 부하 경감
    - 서버 확장성 향상, 반복된 데이터 전송의 필요성
 - __캐시 가능(Cacheable)__
    - 클라이언트가 응답을 캐시 임시저장 할 수 있어야 함
    - 네트워크 대역폭 사용 감소, 성능 향상
    - ETag
        - ETag(Entity Tag)는 웹 서버가 자원(예: 웹페이지, 이미지)의 특정 버전을 식별하는데 사용하는 메커니즘
        - 자원의 내용이 변경될 때 마다 갱신되는 고유한 식별자
 - __계층화 시스템(Layered System)__
    - 클라이언트는 끝 서버(End server)에 직접 연결되는지 여부를 알 수 없음
    - 시스템 구조의 유연성, 보안 및 확장성 강화
 - __코드 온 디맨드(Code on Demand)__
    - 서버가 코드를 클라이언트에 전송하고, 클라이언트가 그 코드를 실행
    - 클라이언트 기능의 확장성
 - __일관된 인터페이스__
    - API 구성과 동작 방식을 일관되게 유지하고, 사용자가 예측 가능하도록 만드는 개념
    - 자원의 식별: 웹 리소스는 고유한 URI(Uniform Resource Identifier)를 통해 식별
    - 자원에 대한 표현(Presentation)을 통한 상호작용: JSON, XML 등의 형식으로 표현된 자원을 통해 서버와 상호 작용
    - 자기 기술적 메시지(selfdescriptive message): 요청과 응답은 충분한 정보를 포함하여 자체적으로 이해될 수 있어야 함
    - 애플리케이션 상태의 하이퍼 미디어 엔진(HATEOAS): 클라이언트는 응답에 포함된 하이퍼 링크를 통해 다른 상태로 전이 가능

<br/>

### RESTful의 API 디자인 가이드

 - __자원(Resource) 중심의 설계__
    - 자원은 데이터 집합, 서버의 서비스 기능, 서버상의 객체 등을 의미
    - 각 자원을 명확하고 직관적인 명사로 식별
    - 자원은 계층적 구조로 표현
    - 자원의 상태는 HTTP 메서드를 통해 관리
 - __HTTP 메서드 활용__
    - HTTP 메서드는 자원에 대한 행동을 정의
    - GET: 자원을 조회
    - POST: 새로운 자원을 생성
    - PUT: 자원을 수정
    - DELETE: 자원을 삭제
 - __상태 코드의 활용__
    - 상태 코드는 API 응답의 성공 또는 실패를 나타냄
    - 상태 코드를 통해 클라이언트에 명화한 피드백을 제공
```
200 OK: 성공적인요청과응답
201 Created: 새로운 자원생성성공
400 Bad Request: 잘못된요청
401 Unauthorized: 인증 실패
404 Not Found: 자원을 찾을수없음
500 Internal Server Error: 서버 내부 오류
```
<br/>

 - __URI 설계 예시__
```
서적 목록 조회: /books
특정서적조회: /books/12345
저자별서적조회: /authors/678/books
서적검색: /books?title Programming year 2021
서적에대한리뷰조회: /books/12345/reviews
```

<br/>

 - __URI 설계 예시 + 상태 코드 활용__

```
GET /books
요청: 클라이언트가 서적 목록 조회
200 OK (서적 목록 반환)
500 Internal Server Error (서버 내부 오류)


GET /books/12345
요청: 클라이언트가 ID 12345인 서적 조회
200 OK (서적정보반환)
404 Not Found (해당ID의서적없음)


POST /books
요청: 클라이언트가 새로운 서적 추가
201 Created (서적 추가 및 생성된 자원의 URI 포함)
400 Bad Request (잘못된 데이터 제공)


PUT /books/12345
요청: 클라이언트가 ID 12345인 서적의 정보 업데이트
200 OK 또는204 No Content (정보 업데이트 성공)
400 Bad Request (잘못된 업데이트 데이터)


DELETE /books/12345
요청: 클라이언트가 ID 12345인 서적 삭제
204 No Content (성공적으로 삭제됨)
404 Not Found (삭제할 서적이 없음)


GET /books?title=Programming
요청: Programming을 제목에 포함한 서적검색
200 OK (검색 결과 반환)
204 No Content (검색 결과 없음)
```
<br/>

### 정리

 - __클라이언트-서버구조(Client-Server)__
    - 클라이언트는 사용자 인터페이스에, 서버는데이터 저장 및 처리에 집중
 - __무상태성(Stateless)__
    - 각 요청이 독립적이고, 이전 상태를 기반으로 하지 않음
    - 시스템의 복잡성 감소, 서버 부하 경감
 - __캐시가능성(Cacheable)__
    - 클라이언트가 응답을 캐시
    - 네트워크 대역폭 사용 감소, 성능 향상
 - __계층화된 시스템(Layered System)__
    - 유연성, 보안 및 확장성 강화
 - __코드 온 디맨드(Code on Demand)__
    - 클라이언트의 기능을 서버측에서 동적으로 확장 가능
    - 사용자 경험을 향상
 - __균일한 인터페이스(Uniformed Interface)__
    - 단순하고 일관된 아키텍처 유지가능

<br/>

## 3. REST API의 장점 및 활용 사례

 - __REST API 장점__
    - __간단하고 직관적인 설계__: 자원을 URI로 표현, HTTP 메서드를 사용하여 자원 조작
    - __높은 확장성과 유연성__: 리소스 중심적으로 설계하여 리소스를 쉽게 조작 가능
    - __캐싱을 통한 성능 향상__: 네트워크 대역폭을 절약하고 서버의 부하 감소
 - __REST API 활용 사례__
    - 모바일 앱
    - IOT 디바이스

