# 워크플로우 정리 및 확장성 높이기

## 워크 플로우(Workflow)

Workflow(워크플로우)는 조직이나 프로세스에서 일련의 작업 또는 활동이 어떻게 수행되는지를 체계적으로 정의하고 관리하는 방법을 나타냅니다. 워크플로우는 비즈니스 프로세스 관리, 프로젝트 관리, 작업 자동화, 업무 흐름 관리 등 다양한 컨텍스트에서 사용됩니다.  
 - 데이터 파이프라인 또는 데이터 프롤우(각 작업이나 일에 필요한 데이터 흐름)
 - 태스크(할일, 과업, 작업, 과제)
    - 상태: 태스크의 상태
    - 전환: 태스크에서 다른 태스크로의 이동
    - 조건: 태스크의 전환에 필요한 조건
    - 검증: 조건을 만족하는지 검증
    - 후속 조치: 전환 이후에 필요한 정리 작업

<br/>

### 워크플로우 관리적 요소

 - [Why] 왜 이 일을 해야 하는가?
 - [When] 언제까지 일을 완료해야 하는가?
 - [Who] 누가 이 일을 해야 하는가?
 - [How] 어떻게 해야 일을 완료하는가?
 - [What] 일을 완료하기 위해서 무엇이 필요한가?
 - [Where] 어디서 이 일을 완료해야 하는가?

<br/>

### 워크플로우 자동화 케이스

성급한 워크플로우 자동화는 피하며, 매뉴얼을 이용한 워크플로우 정립이 우선시 되고나서 자동화하여 이점을 얻을 수 있다.  

 - 마케팅
    - 구매 고객 목록 추출
    - 리뷰 작성 안내 문자 발송
 - 사업
    - 신규 입점 신청한 상점 목록 추출
    - 상점 계정 생성
    - 이용 안내
 - 정산
    - 매일 이미 판매한 상품과 판매자 목록 추출
    - 정산 금액 계산
 - 시스템 관리
    - 매일 퇴사자 목록을 뽑아 퇴사자는 시스템 권한 정리

<br/>

### 워크플로우 도구

 - 워크플로우 분석
    - 루시드 차트(Lucid Chart)
    - Miro
    - 기타 도형 시각화 도구
 - 워크플로우 관리 및 운영
    - Jira
    - Monday.com
    - Trello
    - 엑셀

<br/>

## 워크플로우 분석 및 개선

자신이 맡게된 프로젝트에 대해 업무에 흐름을 파악해야 기능을 제대로 구현할 수 있다.  
즉, 업무에 흐름을 분석하고 이해할 수 있는 효과적인 방법이 필요하다.  

<br/>

### 문제점

새로 맡게되는 업무나 프로젝트에서는 누군가로부터 문서를 전달받거나 인수인계와 설명을 듣게 된다.  
그러나, 이렇게 전달되는 내용은 많기 떄문에 이해하기 어렵고, 전체적인 흐름을 파악하기도 어렵다.  
설명해주는 사람들 통해서 중요한 점이 무엇인지 질문을 할 수도 있지만, 자신의 도메인 지식이 아예 없는 경우 중요한 질문을 던지는 것이 어렵다.  
또, 설명하는 사람의 주관과 현재 상황에 반영되어 중요한 점을 놓칠 수 있다.  
또, 전달받은 문서는 문서 작성 능력에 따라 천차만별이 된다.  
 - 화자의 문제
    - 자주 설명을 듣기 어렵다.
    - 전달받은 내용에서 중요도를 파악하기 어렵다.
    - 화자의 주관이 반영되어 놓치는 부분이 있을 수 있다.
 - 문서의 문제
    - 문서 작성 능력에 따라 천차만별
    - 새로운 업무나 기획 내용을 담은 문서는 최신이 아닐 수 있다.
    - 문서의 양이 많아 전체적인 흐름과 맥락을 이해하기 어렵다.

<br/>

### 목표

 - 이벤트 > 태스크 > 태스크 전환 > 트리거 > 도메인 식별
 - 이벤트: 이벤트를 식별한다.
    - 새로운 기획서나 업무에서 어떤 일들이 벌어지는지 알 수 있다.
    - 기존 업무에서 어떤 일들이 발생하는지 알 수 있다.
    - 현업의 용어를 그대로 사용해서 파악(도메인 언어)
 - 트리거: 상태를 변환시키는 명령을 식별한다.
    - 첫 번째 이벤트의 상태를 변화시키는 행위나 명령이 어떤 것인지 알 수 있다.
    - 명령을 발생시키는 곳을 알 수 있다. (UI, 스케줄, 수동, 기타 이벤트)
 - 액터: 명령을 발생시키는 주체를 찾아낸다.
    - 명령을 발생시키는 것이 어떤 것인지 식별 가능하다.
    - 사람, 시스템, 외부, 기타
 - 정책: 이벤트와 관련한 정책을 식별한다.
    - 해당 이벤트에 관련한 업무 규칙이나 정책
    - 이벤트가 발생하면서 함께 실행하거나 수행해야 할 행위를 식별한다. (알림 발송, 정보 변경 등)
 - 집합: 트랜잭션 또는 생명주기가 묶이는 것을 식별한다.
    - 도메인을 해결하기 위한 이벤트, 명령, 액터, 정책을 모은다.
    - 현업에서 자주 사용하는 단어 또는 용어 (주문, 감정, 물류, 정산 등)

<br/>

### 실전 사례

 - 리세일 사입 비즈니스
    - 고객으로부터 물건을 매입, 고객에게 재판매 사업
```
1. 이벤트 식별
 - 도메인 전문가 또는 문서를 통해 이벤트를 식별한다.
사입 신청함, 사입 계약서 작성함, 견적 가격 제안함, 상품 수거 요청함, 상품 수거됨
상품 입고됨, 상품 반환됨, 상품 감정 합격되었음, 상품 감정 불합격되었음, 상품 정산됨
..

2. 명령 식별
 - 도메인 전문가 또는 문서로 이벤트를 수행시킨 명령 식별한다.
사업 신청 -> 사업 신청함
상품 감정 -> 상품 감정 합격 되었음
..

3. 정책 식별
 - 이벤트와 연동되는 규칙이나 정책을 식별한다.
견적 제안 -> 견적 가격 제안함 -> 계약서 발송
상품 감정 -> 상품 감정 불합격 되었음 -> 불합격 알림 발송
..

4. 액터 식별
 - 명령어를 발생시키는 주체를 식별한다.
[감정사] 상품 감정 -> 상품 감정 불합격 되었음 -> 불합격 알림 발송
..

5. 흐름 파악 및 연결
 - 명령 식별까지만 되어도 워크플로우를 만들 수 있다.
 - 명령 + 이벤트 -> 업무 흐름 만들기
 - 기획자, 업무 도메인 담당자와 함꼐 흐름을 만들면서 확인
[사업 신청] -> [견적 제안] -> [사입 계약서 발송] -> [사입 계약서 작성] ->
[상품 수거] -> [상품 입고] -> [상품 감정] ->
[감정 결과 불합격] -> 상품 반환
[감정 결과 합격] -> 상품 정산

6. 도메인 상태 파악
 - 도메인을 식별했다면 상태 추출 가능
 - 식별 가능한 상태(사입 계약 상태, 감정 상태, 상품 상태 등)
```
