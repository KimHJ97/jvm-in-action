# 초기 이커머스 데이터 저장소 설계 및 관리

 - 데이터베이스 관리 방법
 - 데이터베이스 네이밍 룰

## 안정성과 확장성있는 데이터베이스 관리

 - 데이터베이스를 영역에 따라 별도로 설치
    - 로컬(Local)
    - 개발(Develop)
    - 운영(Production)
 - 데이터베이스를 역할에 따라 구성
    - 읽기(Read) 전용
    - 쓰기(Write) 전용
- 사용 목적에 따라 계정을 관리
    - DB 관리자: 설정, 권한, 읽기, 쓰기
    - 애플리케이션: 읽기, 쓰기
    - 개발자: 읽기
 - 관계형, NoSQL 데이터베이스 도입
    - 먼저, 관계형 데이터베이스를 고려하고 이후에 NoSQL 도입을 검토
    - 대부분의 일반적인 애플리케이션은 관계형 데이터베이스
    - 특수 목적이 필요한 경우 NoSQL 도입
 - 데이터베이스 작업 흐름
    - DDL(데이터 정의어): 자동화를 적극적으로 도입(수작업 최소화)
    - DML(데이터 조작어): SQL 동료 또는 DBA 리뷰, 쿼리의 인덱스 사용 여부 확인

<br/>

## 안정성과 확장성 있는 테이블 관리

 - 관례를 만들고 지킨다 (네이밍 룰)
    - 데이터베이스 이름
        - 영문 소문자, 언더바, 숫자
        - order, product, resale
    - 테이블 이름
        - 영문 소문자, 언더바, 숫자
        - 복수형
        - 숫자를 먼저 사용하지 않는다.
        - items, products, orders
    - 컬럼 이름
        - 영문 소문자, 언더바, 숫자
        - 숫자를 먼저 사용하지 않는다.
        - 날짜 컬럼에는 xxx_at 또는 xxx_date
        - 참/거짓의 불리언 커럼에는 is_xxx
        - 생성자, 수정자 관련 컬럼에는 xxx_by
    - 인덱스 이름
        - 영문 소문자, 언더바, 숫자
        - 숫자를 먼저 사용하지 않는다.
        - 테이블명_idx_[01~n] 또는 테이블명_index_[01~n]
 - 컬럼에 주석을 달아둔다.
    - 다른 동료가 이해할 수 있도록 컬럼 주석을 달아둔다.
    - 테이블을 초기 생성할 때
    - 테이블에 컬럼을 추가할 때
 - 테이블에 필수 컬럼을 생성한다.
    - 테이블 이력, 추적, 증분, 복제 등 여러 용도에 사용된다.
    - 생성한 사람 또는 시스템(created_by)
    - 생성한 시간(created_at)
    - 수정한 사람 또는 시스템(updated_by)
    - 수정한 시간(updated_at)
 - 확장성을 위한 테이블 관계 설정
    - 초기의 설계는 서비스 및 사업 확장을 따라가지 못함
    - 테이블끼리 초기부터 FK로 서로 연결하는 것은 추천하지 않음
    - 애플리케이션에서 id를 기반으로 관계 조회
 - 테이블 데이터를 물리적 삭제를 하지 않는다.
    - 기본적으로 소프트 삭제를 한다. (사용여부 상태 값 업데이트)
    - 물리 삭제의 경우 데이터 유실, 동기화 깨짐 등의 부수효과 발생
